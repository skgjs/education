<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="css/register.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="js/jquery.min.js"></script>
    <title>注册</title>
</head>
<body>
<!--注册页-->
<section class="registerbj">
    <img class="imgbj" src="images/entrybgc.png" alt="">
    <a href="signin.html" class="box-img">
        <img src="images/close.png" alt="">
    </a>
    <form action="" class="register-box" onsubmit="return check()">
        <div class="register">
            <p class="usertitle">用户注册</p>
            <div class="register-left fl">
                <div class="item">
                    <input type="text" id="pname" name="pname" placeholder="用户名">
                    <span></span>
                </div>
                <div class="item">
                    <input type="password" id="password" name="password" placeholder="密码">
                    <span></span>
                </div>
                <div class="item">
                    <input type="password" id="repassword" name="repassword" placeholder="确认密码">
                    <span></span>
                </div>
                <div class="item-a">
                    <label  for="agree" >
                    <img src="images/select.png" alt="选中" class="fl select checkbox" id="checkimg" onclick="checkclick();">
                    </label>
                    <input type="checkbox"  style="display:none" id="agree" checked="checked">
                    <span class="fl">我同意</span>
                    <a href="clause.html" target="_blank" class="fl">《服务条款》</a>
                    <span class="fl">和</span>
                    <a href="privacy.html" target="_blank" class="fl">《隐私政策》</a>
                    <div style="clear: both"></div>
                    <span class="tongyi fl"></span>
                </div>
                <div class="bottom" id="bottoms">
                    <p class="itema acts">学生</p>
                    <p class="itema">教师</p>
                </div>
            </div>
            <div class="register-right fl">
                <div class="xingbie">
                    <span class="sex">性别：</span>
                    <div class="female">
                            <input type="radio" id="female" name="sex" />
                            <label for="female">女</label>
                    </div>
                    <div class="male">                
                            <input class="" type="radio" checked id="male" name="sex" />
                            <label for="male" class="nan fl">男</label>
                        <div style="clear: both"></div>
                    </div>
                    <div style="clear: both"></div>
                </div>
                <div class="bottom-input">
                    <div class="age">
                        <span class="age-title fl">生日：</span>
                        <div class="item fl">
                            <div class="input fl">
                                <input class="nyr" type="text">
                                <span class="nrbwk"></span>
                            </div>
                            <span class="fl spandata">年</span>
                            <div style="clear:both"></div>
                        </div>
                        <div class="item fl">
                            <div class="input fl">
                                <input class="nyr" type="text">
                            </div>
                            <span class="fl spandata">月</span>
                            <div style="clear:both"></div>
                        </div>
                        <div class="item fl">
                            <div class="input fl">
                                <input class="nyr" type="text">
                            </div>
                            <span class="fl spandata">日</span>
                            <div style="clear:both"></div>
                        </div>
                        <div style="clear:both"></div>
                    </div>
                    <div class="list-zc">
                        <div class="items">
                            <span class="fl">电话：</span>
                            <div class="input fl">
                                <input type="text" id="phone" name="phone">
                                <span style="font-size: 16px"></span>
                            </div>
                            <div style="clear: both"></div>
                        </div>
                        <div class="items">
                            <span class="fl">邮箱：</span>
                            <div class="input fl">
                                <input type="text" id="email" name="email">
                                <span style="font-size: 16px"></span>
                            </div>
                            <div style="clear: both"></div>
                        </div>
                        <div class="items">
                            <span class="fl">地址：</span>
                            <div class="input fl">
                                <input class="kuang" type="text">
                                <span class="dizhi"></span>
                            </div>
                            <div style="clear: both"></div>
                        </div>
                        <div class="zhuces">
                            <input type="submit" value="注册">
                        </div>
                    </div>
                </div>
            </div>
            <div style="clear: both"></div>
        </div>
    </form>
</section>
<script>
    // 注册页
    $(document).ready(function () {
        $('#bottoms .itema').click(function () {
            $('#bottoms .itema').removeClass('acts')
        })
        $('#bottoms .itema').click(function () {
            $(this).addClass('acts')
        })
    })
    // 注册页
    function check() {
        var submitFlg = true;

//验证姓名
        var regpname = {regstr: /^[\u4e00-\u9fa5\w]{3,8}$/, tip: '请输入3-8位的汉字、英文、数字、下划线'};
        var pname = document.getElementById("pname").value;
        var spans = document.getElementById("pname").parentNode.getElementsByTagName("span");
        spans[0].innerHTML = ""
        if (!regpname.regstr.test(pname)) {
            spans[0].innerHTML = "<font color='red'>" + regpname.tip + "<font>";
            submitFlg = false;
        }
        //验证密码
        var regpassword={regstr:/^[\w@#*]{5,18}$/,tip:'请输入5-18位的英文、数字、下划线、@、#、*'};
        var password= document.getElementById("password").value;
        var spans = document.getElementById("password").parentNode.getElementsByTagName("span");
        spans[0].innerHTML="";
        if(!regpassword.regstr.test(password)){
            spans[0].innerHTML="<font color='red'>"+regpassword.tip+"<font>";
            submitFlg = false;
        }

        var repassword=document.getElementById("repassword").value;
        var spans = document.getElementById("repassword").parentNode.getElementsByTagName("span");
        spans[0].innerHTML="";
        if(repassword!=password){
            spans[0].innerHTML="<font color='red'>"+"两次输入的密码不一致"+"<font>";
            submitFlg = false;
        }
        //验证邮箱
        var regemail={regstr:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,tip:'请输入正确的邮箱格式'};
        var email= document.getElementById("email").value;
        var spans = document.getElementById("email").parentNode.getElementsByTagName("span");
        spans[0].innerHTML="";
        if(!regemail.regstr.test(email)){
            spans[0].innerHTML="<font color='red'>"+regemail.tip+"<font>";
            submitFlg = false;
        }
        //验证电话
        var regphone={regstr:/^1\d{10}$/,tip:'请输入11位的手机号'};
        var phone= document.getElementById("phone").value;
        var spans = document.getElementById("phone").parentNode.getElementsByTagName("span");
        spans[0].innerHTML="";
        if(!regphone.regstr.test(phone)){
            spans[0].innerHTML="<font color='red'>"+regphone.tip+"<font>";
            submitFlg = false;
        }
        // 验证生日
        var nrbwk=document.getElementsByClassName('nrbwk')
        var nyr=document.getElementsByClassName('nyr');
        if (nyr[0].value && nyr[1].value && nyr[2].value) {
            nrbwk[0].innerHTML='';
            if (nyr[0].value.length===4){

            } else {
                nrbwk[0].innerHTML='请输入正确年份';
            }
            if (nyr[1].value.length<=2){

            } else {
                nrbwk[0].innerHTML='请输入正确月份';
            }
            if (nyr[2].value.length<=2){

            } else {
                nrbwk[0].innerHTML='请输入正确日期';
            }
        }else {
            console.log(258);
            nrbwk[0].innerHTML='输入内容不能为空';
            submitFlg = false;

        }
        // 验证地址
        var dizhi=document.getElementsByClassName('dizhi')
        var kuang=document.getElementsByClassName('kuang')

        if (kuang[0].value) {
            dizhi[0].innerHTML='';
        }else {
            dizhi[0].innerHTML='输入地址内容不能为空';
            submitFlg = false;
        }

        // 同意协议
        var agree=document.getElementById('agree')
        var tongyi=document.getElementsByClassName('tongyi')
        if (agree.checked) {
            tongyi[0].innerHTML='';
        }else {
            tongyi[0].innerHTML='请选择同意';
            submitFlg = false;
        }

        return submitFlg;
    }

    // 同意协议复选框
    function checkclick(){
        var checkimg = document.getElementById("checkimg");
        if($("#agree").is(':checked') ){
            $("#agree").attr("checked","unchecked");
            checkimg.src="images/selecta.png";
            checkimg.alt="未选";
        } else{
            $("#agree").attr("checked","checked");
            checkimg.src="images/select.png";
            checkimg.alt="选中";
        }
    }
</script>
</body>
</html>